<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>产品应用地图</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(circle at 50% 50%, #0a1f44, #000814);
      font-family: 'Microsoft YaHei', sans-serif;
    }
    #chart { width: 100%; height: 100vh; }
    .echarts-tooltip {
      background: rgba(10, 25, 47, 0.85);
      border: 1px solid #00e0ff;
      border-radius: 6px;
      padding: 8px 12px;
      color: #fff;
      font-size: 13px;
      line-height: 1.4em;
    }
  </style>
</head>
<body>
  <div id="chart"></div>

  <script src="./vendor/echarts.min.js?v=1"></script>
  <script src="./vendor/china.js?v=1"></script>

  <script>
    const APP_DATA = {
      "广东": { "渠道商": "无", "产品类别": "OMS、TMS", "应用规模": "规模应用" },
      "云南": { "渠道商": "无", "产品类别": "OMS",      "应用规模": "规模应用" },
      "浙江": { "渠道商": "无", "产品类别": "OMS",      "应用规模": "试点应用" },
      "新疆": { "渠道商": "无", "产品类别": "TMS",      "应用规模": "试点应用" }
    };

    (function () {
      function start() {
        var el = document.getElementById('chart');
        if (!el) return;

        var chart = echarts.init(el);

        var seriesData = Object.keys(APP_DATA).map(function (p) {
          return { name: p, value: 1, info: APP_DATA[p] };
        });

        var option = {
          backgroundColor: 'transparent',
          tooltip: {
            trigger: 'item',
            backgroundColor: 'rgba(10, 25, 47, 0.85)',
            borderColor: '#00e0ff',
            borderWidth: 1,
            padding: 10,
            textStyle: { color: '#fff', fontSize: 13 },
            formatter: function (params) {
              var info = params.data && params.data.info;
              if (info) {
                function get(k){ return (info[k] != null && info[k] !== '') ? info[k] : '—'; }
                return [
                  '<b style="color:#00e0ff;font-size:14px;">' + params.name + '</b>',
                  '渠道商：' + get('渠道商'),
                  '产品类别：' + get('产品类别'),
                  '应用规模：' + get('应用规模')
                ].join('<br/>');
              }
              return '<b style="color:#00e0ff;">' + params.name + '</b><br/>无数据';
            }
          },
          visualMap: {
            show: false, min: 0, max: 1,
            inRange: { color: ['#003366', '#00e0ff'] }
          },
          series: [{
            name: '应用区域',
            type: 'map',
            map: 'china',
            roam: true,
            zoom: 1.1,
            label: {
              show: true,
              fontSize: 10,
              color: '#fff'
            },
            itemStyle: {
              areaColor: '#003366',
              borderColor: '#003366', // 边界色与区域色一致 => 消除缝隙
              borderWidth: 0.5
            },
            emphasis: {
              label: { color: '#fff', fontSize: 12, fontWeight: 'bold' },
              itemStyle: {
                areaColor: '#00e0ff',
                shadowColor: '#00f6ff',
                shadowBlur: 20
              }
            },
            data: seriesData
          }]
        };

        chart.setOption(option);
        window.addEventListener('resize', function () { chart.resize(); });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', start);
      } else {
        start();
      }
    })();
  </script>
</body>
</html>
