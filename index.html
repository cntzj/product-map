<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>极目传感® 产品应用地图</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(circle at 50% 50%, #0a1f44, #000814);
      font-family: 'Microsoft YaHei', sans-serif;
      color: #fff;
      overflow: hidden;
    }

    /* 顶部标题栏 */
    header {
      height: 60px;
      background: rgba(0, 20, 40, 0.8);
      border-bottom: 1px solid rgba(0, 224, 255, 0.3);
      display: flex;
      align-items: center;
      padding: 0 20px;
    }
    header img {
      height: 40px;
      margin-right: 12px;
    }
    header h1 {
      font-size: 20px;
      font-weight: bold;
      color: #00e0ff;
      margin: 0;
    }

    /* 地图容器 */
    #chart {
      width: 100%;
      height: calc(100vh - 60px);
    }
  </style>
</head>
<body>
  <header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Location_dot_blue.svg/1024px-Location_dot_blue.svg.png" alt="Logo">
    <h1>极目传感® 产品应用地图</h1>
  </header>
  <div id="chart"></div>
  <!-- 引入本地化的 ECharts 主库 & 中国地图数据 -->
  <script src="./vendor/echarts.min.js?v=1"></script>
  <script src="./vendor/china.js?v=1"></script>

  <!-- 你的业务数据（可直接在此修改） -->
  <script>
    const APP_DATA = {
      "广东": { "渠道商": "无", "产品类别": "OMS、TMS", "应用规模": "规模应用" },
      "云南": { "渠道商": "无", "产品类别": "OMS",      "应用规模": "规模应用" },
      "浙江": { "渠道商": "无", "产品类别": "OMS",      "应用规模": "试点应用" },
      "新疆": { "渠道商": "无", "产品类别": "TMS",      "应用规模": "试点应用" }
    };
  </script>
  <script>
    (function () {
      function start() {
        var el = document.getElementById('chart');
        if (!el) return;

        var chart = echarts.init(el);

        var seriesData = Object.keys(APP_DATA).map(function (p) {
          return { name: p, value: 1, info: APP_DATA[p] };
        });

        var option = {
          backgroundColor: 'transparent',
          tooltip: {
            trigger: 'item',
            backgroundColor: 'rgba(10, 25, 47, 0.85)',
            borderColor: '#00e0ff',
            borderWidth: 1,
            padding: 10,
            textStyle: { color: '#fff', fontSize: 13 },
            formatter: function (params) {
              var info = params.data && params.data.info;
              if (info) {
                function get(k){ return (info[k] != null && info[k] !== '') ? info[k] : '—'; }
                return [
                  '<b style="color:#00e0ff;font-size:14px;">' + params.name + '</b>',
                  '渠道商：' + get('渠道商'),
                  '产品类别：' + get('产品类别'),
                  '应用规模：' + get('应用规模')
                ].join('<br/>');
              }
              return '<b style="color:#00e0ff;">' + params.name + '</b><br/>无数据';
            }
          },
          visualMap: {
            show: false,
            min: 0,
            max: 1,
            inRange: { color: ['#003366', '#00e0ff'] }
          },
          series: [{
            name: '应用区域',
            type: 'map',
            map: 'china',
            roam: true,
            zoom: 1.1,
            label: {
              show: true,
              fontSize: 10,
              color: '#fff'
            },
            itemStyle: {
              areaColor: '#003366',
              borderColor: '#003366', /* 边界色与填充色一致 => 消除缝隙 */
              borderWidth: 0.5
            },
            emphasis: {
              label: { color: '#fff', fontSize: 12, fontWeight: 'bold' },
              itemStyle: {
                areaColor: '#00e0ff',
                shadowColor: '#00f6ff',
                shadowBlur: 20
              }
            },
            data: seriesData
          }]
        };

        chart.setOption(option);
        window.addEventListener('resize', function () { chart.resize(); });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', start);
      } else {
        start();
      }
    })();
  </script>
</body>
</html>
